<form th:object="${employee}" th:action="@{/employee/insert}" class="w-full max-w-4xl mx-auto px-4 space-y-8">
    <input type="hidden" name="service" value="insert">
    <input type="hidden" id="employeeCreatedAt" th:field="*{employee.createdAt}">
    <input type="hidden" id="employeeUpdatedAt" th:field="*{employee.updatedAt}">

    <div class="flex justify-end gap-4 mt-8">
        <button type="submit"
                class="m-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
            UPDATE
        </button>
        <a th:href="@{/employee}"
           class="m-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
            Close
        </a>
    </div>

    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Personal Data</h2>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">First Name</label>
                <input id="employeeFirstName" th:field="*{employee.firstName}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Last Name</label>
                <input id="employeeLastName" th:field="*{employee.lastName}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Birth Date:</label>
                <input id="employeeBirthDate" type="date" th:field="*{employee.birthDate}"
                       class="w-full p-2 border rounded-md min-h-[40px] focus:ring-2 focus:ring-blue-500" required>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Gender</label>
                <div class="flex gap-4">
                    <label class="flex items-center gap-2">
                        <input type="radio" id="male" th:field="*{employee.gender}" value="Male"
                               class="form-radio text-blue-600">
                        Male
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="radio" id="female" th:field="*{employee.gender}" value="Female"
                               class="form-radio text-blue-600">
                        Female
                    </label>
                </div>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Marital Status</label>
                <div class="flex gap-4">
                    <label class="flex items-center gap-2">
                        <input type="radio" id="single" th:field="*{employee.maritalStatus}" value="single"
                               class="form-radio text-blue-600">
                        Single
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="radio" id="married" th:field="*{employee.maritalStatus}" value="married"
                               class="form-radio text-blue-600">
                        Married
                    </label>
                </div>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">ID Number</label>
                <input id="employeeIdNumber" th:field="*{employee.IdNumber}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Contact</h2>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Personal E-mail</label>
                <input id="employeePersonalEmail" th:field="*{employee.personalEmail}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Phone number</label>
                <input id="employeePhoneNumber" th:field="*{employee.phoneNumber}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Permanent address</label>
                <input id="employeePermanentAddress" th:field="*{employee.permanentAddress}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Temporary address</label>
                <input id="employeeTemporaryAddress" th:field="*{employee.temporaryAddress}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

    </div>


    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Bank</h2>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Bank account</label>
                <input id="bankAccountName" th:field="*{employee.bankName}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Bank code</label>
                <input id="bankAccountCode" th:field="*{employee.bankAccount}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Tax no</label>
                <input id="employeeTaxNumber" th:field="*{employee.taxCode}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Work Data</h2>
        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Employee Code:</label>
                <input id="employeeCode" th:field="*{employee.employeeCode}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Department:</label>
                <select id="employmentHistoryDepartmentCode" th:field="*{employmentHistory.department.departmentCode}"
                        class="w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500">
                    <option th:each="d : ${departments}"
                            th:value="${d.departmentCode}"
                            th:text="${d.departmentName}"></option>
                </select>
            </div>
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Position:</label>
                <select id="employmentHistoryPositionCode" th:field="*{employmentHistory.position.positionCode}"
                        class="w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500">
                    <option th:each="p : ${positions}"
                            th:value="${p.positionCode}"
                            th:text="${p.positionName}"></option>
                </select>
            </div>
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Company E-mail:</label>
                <input id="employeeCompanyEmail" th:field="*{employee.companyEmail}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" readonly>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Birth Date:</label>
                <input id="employmentHistoryStartDate" type="date" th:field="*{employmentHistory.startDate}"
                       class="w-full p-2 border rounded-md min-h-[40px] focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <h2 class="text-xl font-bold text-gray-800 border-b pb-2">Contract</h2>

        <div class="space-y-4">
            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Contract no:</label>
                <input id="contractCode" th:field="*{contract.contractCode}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" readonly>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Contract Type:</label>
                <select id="contractType" th:field="*{contract.contractType}"
                        class="w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500">
                    <option th:value="0">Select Contract Type</option>
                    <option th:value="3">3-Month Internship</option>
                    <option th:value="12">1-Year Contract</option>
                    <option th:value="24">2-Year Contract</option>
                </select>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">From:</label>
                <input id="contractStartDate" th:field="*{contract.startDate}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" readonly>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">To:</label>
                <input id="contractEndDate" th:field="*{contract.endDate}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" readonly>
            </div>

            <div class="space-y-1">
                <label class="block font-medium text-gray-700">Base Salary:</label>
                <input id="contractBaseSalary" th:field="*{contract.baseSalary}"
                       class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto focus:ring-2 focus:ring-blue-500" required>
            </div>
        </div>
    </div>
    <div class="bg-white shadow-sm rounded-lg p-6 space-y-4">
        <div class="flex justify-between items-center">
            <h2 class="text-xl font-bold text-gray-800">Qualifications</h2>
            <button id="qualificationAddBtn" type="button"
                    class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors">
                Add Qualification
            </button>
        </div>

        <div id="qualificationContainer" class="space-y-6">
            <div th:each="qualification, stat : ${employee.qualifications}"
                 class="border rounded p-4 space-y-3 qualification-item">
                <div class="space-y-1">
                    <label class="block font-medium text-gray-700">Qualification Name:</label>
                    <input th:field="*{qualifications[__${stat.index}__].qualificationName}"
                           class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto">
                </div>

                <div class="flex justify-end">
                    <button type="button" class="delete-qualification px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" id="employmentHistoryIsPresent" th:field="*{employmentHistory.isCurrent}"/>
    <input type="hidden" id="employmentHistoryCreatedAt" th:field="*{employmentHistory.createdAt}"/>
    <input type="hidden" id="contractIsPresent" th:field="*{contract.present}"/>
    <input type="hidden" id="contractCreatedAt" th:field="*{contract.createdAt}"/>
    <input type="hidden" id="contractSignDate" th:field="*{contract.signDate}"/>
    <input id="totalEmployee" name="totalEmployee" th:value="${totalEmployee}" type="hidden">
    <input id="countContract" name="countContract" th:value="${countContract}" type="hidden">
</form>

<template id="qualificationTemplate">
    <div class="qualification-item border rounded p-4 space-y-3">
        <div class="space-y-1">
            <label class="block font-medium text-gray-700">Qualification Name:</label>
            <input name="qualifications[].qualificationName"
                   class="w-full p-2 border rounded-md min-h-[40px] overflow-y-auto" required>
        </div>

        <div class="flex justify-end">
            <button type="button" class="delete-qualification px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700">
                Delete
            </button>
        </div>
    </div>
</template>